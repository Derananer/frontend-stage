@import '~i-less/i-less';

.b-arrow {
    @bl: ~".b-arrow";
    @bg-colors: 'blue', 'dark-blue', 'light-blue', 'azure', 'gray', 'invert', 'done', 'none', 'default';

    display: inline-block;
    position: relative;
    width: 0;
    height: 0;
    padding: 30px 16px;
    background: @color-bg-invert;

    &:after {
        position: absolute;
        top: 100%;
        width: 0;
        height: 0;
        margin-left: -24px;
        border: solid transparent;
        border-width: 24px;
        border-top-color: @color-bg-invert;
        content: ' ';
        pointer-events: none;
    }

    &_size {
        &_medium {
            &:after {
                margin-left: -30px;
                border-width: 30px;
            }

            &@{bl}_direction_left,
            &@{bl}_direction_right {
                &:after {
                    margin-top: -30px;
                }
            }
        }
    }

    &_direction {
        &_top {
            &:after {
                top: auto;
                bottom: 100%;
                border-top-color: transparent;
                border-bottom-color: @color-bg-invert;
            }
        }

        &_right {
            padding: 16px 30px;

            &:after {
                top: 50%;
                left: 100%;
                margin-top: -24px;
                margin-left: 0;
                border-top-color: transparent;
                border-left-color: @color-bg-invert;
            }
        }

        &_left {
            padding: 16px 30px;

            &:after {
                top: 50%;
                right: 100%;
                margin-top: -24px;
                margin-left: 0;
                border-top-color: transparent;
                border-right-color: @color-bg-invert;
            }
        }
    }

    &_bg {
        .-(@i: length(@bg-colors)) when (@i > 0) {
            @color: e(extract(@bg-colors, @i));
            .b-arrow-bg(@color);
            .-((@i - 1));
        } .-;
    }
}

.b-arrow-bg(@color) {
    &_@{color} {
        background-color: ~"@{color-bg-@{color}}";
        
        &:after {
            border-top-color: ~"@{color-bg-@{color}}";
        }

        &@{bl}_direction_top {
            &:after {
                border-top-color: transparent;
                border-bottom-color: ~"@{color-bg-@{color}}";
            }
        }

        &@{bl}_direction_left {
            &:after {
                border-top-color: transparent;
                border-right-color: ~"@{color-bg-@{color}}";
            }
        }

        &@{bl}_direction_right {
            &:after {
                border-top-color: transparent;
                border-left-color: ~"@{color-bg-@{color}}";
            }
        }
    }
}
